WEBVTT - This file was automatically generated by VIMEO

0
00:00:02.150 --> 00:00:05.080
Meeting the stars of the R-Universe,

1
00:00:10.470 --> 00:00:14.280
meeting the PEcAn project with Rob Kooper, 

2
00:00:15.610 --> 00:00:18.800
Chris Black, Eric Scott, 

3
00:00:19.910 --> 00:00:21.040
Michael Dietze, and David LeBauer

4
00:00:26.340 --> 00:00:30.440
PEcAn is kind of a, a model data informatics system.

5
00:00:30.580 --> 00:00:35.400
So it's a set of tools to make it easier to bring process-based models

6
00:00:35.800 --> 00:00:38.480
together with, data, 

7
00:00:38.480 --> 00:00:43.240
with a particular focus on ecological models. We've spent a lot of time,

8
00:00:44.460 --> 00:00:47.360
thinking about the terrestrial carbon cycle and,

9
00:00:47.380 --> 00:00:52.240
and those sorts of process-based models and how to connect those with a wide

10
00:00:52.240 --> 00:00:56.200
range of different, types of data.

11
00:00:56.220 --> 00:01:00.680
And so some of our modules are about data ingest, so getting, 

12
00:01:00.680 --> 00:01:03.520
meteorological data into models, vegetation data,

13
00:01:03.930 --> 00:01:05.680
soils data, remotely sense data.

14
00:01:06.060 --> 00:01:09.480
So there's a lot of pipeline in some of the packages,

15
00:01:09.480 --> 00:01:12.280
there's a lot of tools. 

16
00:01:12.300 --> 00:01:16.720
So there's packages for model calibration and model validation

17
00:01:17.300 --> 00:01:21.400
and sensitivity and uncertainty analyses and data simulation and stuff like

18
00:01:21.400 --> 00:01:22.720
that. 

19
00:01:22.720 --> 00:01:27.480
there's some specific tools we're dealing with specific types of data.

20
00:01:28.260 --> 00:01:32.480
So there's a tool for so photosynthetic data and a lot elementary data and,

21
00:01:33.540 --> 00:01:37.480
radio transfer data. And then there's, 

22
00:01:37.630 --> 00:01:42.320
kind of one package for each of the 20 plus models, 

23
00:01:42.320 --> 00:01:46.680
that we've coupled too so far. So it ends up being a whole kind of,

24
00:01:47.220 --> 00:01:51.680
ecosystem of interacting R packages.

25
00:01:52.180 --> 00:01:53.720
So the team, I mean, the core team,

26
00:01:54.550 --> 00:01:58.240
Mike and I started it back when I was his postdoc, 

27
00:01:58.710 --> 00:02:03.560
back in 2009 or so quickly met Rob, and,

28
00:02:03.560 --> 00:02:07.720
he was a computer scientist I think, who kind of helped us look at this in,

29
00:02:07.940 --> 00:02:10.480
you know, more than just a bunch of scripts and, you know,

30
00:02:10.480 --> 00:02:13.000
eventually breaking into a bunch of, in, into different packages.

31
00:02:13.140 --> 00:02:17.160
So he's been working on this project since almost the beginning.

32
00:02:18.430 --> 00:02:20.560
There's a few other scientists, 

33
00:02:20.560 --> 00:02:25.160
people like Eric and and Chris are really core contributors. 

34
00:02:25.540 --> 00:02:27.360
And then there have been a number of, 

35
00:02:27.420 --> 00:02:31.920
of postdocs and graduate students who have contributed along the way as they

36
00:02:32.310 --> 00:02:35.600
kind of work on, on their area. But, 

37
00:02:36.260 --> 00:02:41.000
so I, I think there's maybe, three of us, Mike, Rob,

38
00:02:41.000 --> 00:02:45.720
and I, who are able to merge into the master branch, although, 

39
00:02:46.100 --> 00:02:50.480
Rob usually does that and maybe just the same of us who can merge into the

40
00:02:50.480 --> 00:02:54.720
development branch. But we have a lot of people who, 

41
00:02:55.500 --> 00:02:58.920
who contribute, a few people review, and once, 

42
00:02:59.080 --> 00:03:02.160
a pull request has been reviewed, we can be merged in.

43
00:03:02.500 --> 00:03:07.040
And we also have a lot of, maybe not enough tests, but a lot of tests, 

44
00:03:07.040 --> 00:03:12.000
enough to break, intermittently and, 

45
00:03:12.110 --> 00:03:15.600
that, you know, automatically, check that, you know,

46
00:03:15.600 --> 00:03:18.840
do a lot of checks and, 

47
00:03:19.100 --> 00:03:22.920
so that we have some confidence that at least the features that we like enough

48
00:03:22.940 --> 00:03:27.000
to keep, or and test, are still gonna be there.

49
00:03:27.740 --> 00:03:32.480
I guess I'll add that, that, you can often map,

50
00:03:32.980 --> 00:03:37.440
specific modules or well modules mapped our packages,

51
00:03:37.440 --> 00:03:41.840
but you can map those often to individual dissertations or,

52
00:03:41.940 --> 00:03:42.960
or posdocs or,

53
00:03:43.340 --> 00:03:47.760
or sub clusters of folks that are working collaboratively on

54
00:03:47.840 --> 00:03:52.360
a specific project. So, like right now, Shawn Serbin, who's not on the call,

55
00:03:52.380 --> 00:03:56.120
but who's a research scientist at Brookhaven National Lab, Shawn and I have a,

56
00:03:56.760 --> 00:04:01.480
a NASA carbon monitoring project that uses the data simulation system heavily.

57
00:04:01.820 --> 00:04:06.640
So like the current work on the data simulation module is dominated by my two

58
00:04:06.640 --> 00:04:09.960
students in his postdoc to, you know, conduct a specific project.

59
00:04:10.060 --> 00:04:14.200
But one of our design philosophies is like, you know, rather than,

60
00:04:15.060 --> 00:04:19.920
you know, do do something once and have it be kind of a hacky one-off, 

61
00:04:19.980 --> 00:04:24.200
to, to try to solve the problem in a more general sense, 

62
00:04:24.340 --> 00:04:25.280
it takes longer,

63
00:04:25.460 --> 00:04:28.960
but then we end up with something that is more widely usable by a,

64
00:04:29.120 --> 00:04:30.000
a much broader community.

65
00:04:32.080 --> 00:04:36.720
I think some of the power consider fact that we have faculty,

66
00:04:37.500 --> 00:04:41.040
across different universities. 

67
00:04:41.110 --> 00:04:45.920
Like Mike being at Boston, David being in Arizona, Ankur Desai,

68
00:04:45.930 --> 00:04:49.640
who's not here, he is at Wisconsin. 

69
00:04:49.840 --> 00:04:53.960
I think those are the three. And Shawn being at Brookhaven now,

70
00:04:54.800 --> 00:04:56.160
I think having this,

71
00:04:56.160 --> 00:05:00.800
this wide distributed group of people gives us

72
00:05:00.930 --> 00:05:04.400
reach to a lot more students as well, 

73
00:05:04.660 --> 00:05:06.000
and gives us access to,

74
00:05:06.030 --> 00:05:10.680
like Mike will ask his students to work with PEcAn on when he,

75
00:05:10.680 --> 00:05:13.520
they're doing some of his projects, right? And Ankur does the same.

76
00:05:14.470 --> 00:05:15.400
Shawn does the same, right?

77
00:05:15.420 --> 00:05:20.000
So having that ability where the faculty are spread around,

78
00:05:21.350 --> 00:05:25.360
work with students that basically start contributing back some of her

79
00:05:25.360 --> 00:05:29.960
dissertations back into PEcAn, I think makes it really powerful,

80
00:05:30.780 --> 00:05:34.080
and makes it also that it, like there's a lot of people working on it.

81
00:05:34.100 --> 00:05:38.040
And then like those students leave and start working somewhere else.

82
00:05:38.040 --> 00:05:41.520
Right now we have somebody working in Finland that contributes back to it.

83
00:05:41.540 --> 00:05:45.560
We have working somebody in Notre Dame that contributes back to it. 

84
00:05:45.870 --> 00:05:49.600
NASA is contributing back somewhat to it as well, right?

85
00:05:49.700 --> 00:05:53.920
So having this sort of like growing network of people

86
00:05:54.910 --> 00:05:59.360
that worked with PEcAn, learned about it, contributed their,

87
00:05:59.360 --> 00:06:04.080
their research to it, hopefully enjoyed working with it. 

88
00:06:04.300 --> 00:06:06.200
and then basically, 

89
00:06:07.070 --> 00:06:11.720
like the best case scenario is where they become a faculty and say, Hey,

90
00:06:11.760 --> 00:06:14.720
I have this amazing tool that we can work with that might make your life a lot

91
00:06:14.920 --> 00:06:17.480
easier, and their graduate students start working at it.

92
00:06:17.480 --> 00:06:22.280
And so I sort of this sort of branching tree that basically grew out from

93
00:06:22.540 --> 00:06:25.880
the work that David and and Mike really started, I think at Illinois.

94
00:06:26.020 --> 00:06:29.320
And I think that to me is, is really powerful.

95
00:06:29.340 --> 00:06:30.920
And I think that's where a lot of the modules,

96
00:06:31.240 --> 00:06:34.240
a lot of the contributions come from. And I think that is what makes it grow.

97
00:06:34.680 --> 00:06:36.760
I think that is also what Google really likes.

98
00:06:37.380 --> 00:06:40.590
Like I think the part of the reason why we get so much from, 

99
00:06:40.940 --> 00:06:44.870
like the 6, 7, 8 years from Google now is that like we've shown that it's not

100
00:06:44.870 --> 00:06:47.150
just a university doing this. It's,

101
00:06:47.150 --> 00:06:50.190
it's a large group of people across the world doing it.

102
00:06:50.630 --> 00:06:53.430
Students are excited about working on it that we get.

103
00:06:54.210 --> 00:06:57.510
And so I think that to me is, is really powerful,

104
00:07:03.010 --> 00:07:05.590
The PEcAn project in the R-Universe.

105
00:07:09.410 --> 00:07:13.790
And I think one of the reasons that we are, 

106
00:07:15.160 --> 00:07:17.910
leads to be, 

107
00:07:18.080 --> 00:07:21.910
using rOpenSci as part of our, 

108
00:07:21.910 --> 00:07:26.190
development process now is that, you know, as Mike said,

109
00:07:26.190 --> 00:07:31.190
we're up to 40 some R packages that all get built

110
00:07:31.250 --> 00:07:33.670
as part of the, the PEcAn system.

111
00:07:34.690 --> 00:07:39.030
And those all have to talk to each other in various ways. And, you know,

112
00:07:39.030 --> 00:07:43.910
some of those packages are things like the template that other

113
00:07:43.910 --> 00:07:48.270
people use to adapt to build a new, to integrate a new model. And,

114
00:07:49.050 --> 00:07:49.270


115
00:07:49.270 --> 00:07:53.390
there are some other packages that are increasingly like the scaffolding that

116
00:07:53.390 --> 00:07:56.110
you build new modules on top of.

117
00:07:57.050 --> 00:08:00.870
And it becomes very quickly a very thorny integration problem,

118
00:08:01.920 --> 00:08:06.430
which, we were managing by building a lot of our own tools,

119
00:08:07.610 --> 00:08:11.830
where have been relying very heavily on 

120
00:08:12.530 --> 00:08:14.790
GitHub actions to, you know,

121
00:08:14.900 --> 00:08:18.390
test all of the new contributions and to make sure that the pieces are working

122
00:08:18.630 --> 00:08:21.790
together in concert and that works.

123
00:08:22.010 --> 00:08:26.870
But it's a lot of maintenance time building those

124
00:08:26.920 --> 00:08:30.790
tools that are really, you know, a lot of the,

125
00:08:31.050 --> 00:08:33.190
rOpenSci ecosystem has sort of built that,

126
00:08:33.880 --> 00:08:35.510
built many of those tools already,

127
00:08:36.250 --> 00:08:40.350
and we don't need to be reinventing the wheel and trying to maintain our own

128
00:08:40.350 --> 00:08:41.183
versions of them.

129
00:08:41.460 --> 00:08:45.910
What are kind of the core packages we call like PEcAn base,

130
00:08:46.080 --> 00:08:49.430
PEcAn database connection, the utils,

131
00:08:49.430 --> 00:08:53.710
which is just a collection for a lot of handy things. 

132
00:08:53.770 --> 00:08:56.880
And then we've got the data packages or the modules,

133
00:08:57.200 --> 00:08:59.280
actually the modules include, 

134
00:08:59.360 --> 00:09:04.240
packages for managing data and also packages for doing statistical

135
00:09:04.280 --> 00:09:07.600
analyses on the inputs and outputs of the, of the models.

136
00:09:08.060 --> 00:09:11.440
And then we've got a set of models that, I mean,

137
00:09:11.480 --> 00:09:14.400
a set of packages like one package, as Mike was saying,

138
00:09:14.420 --> 00:09:18.880
per model that manages a couplers, effectively saying,

139
00:09:19.300 --> 00:09:23.480
you know, given this standard PEcAn input, I mean would, you know,

140
00:09:23.540 --> 00:09:28.400
set of data like convert it to what that particular model wants to see 

141
00:09:28.400 --> 00:09:31.840
It can be, you know, converting the format, converting the variables, etcetera,

142
00:09:32.830 --> 00:09:34.440
writing out configuration files,

143
00:09:34.440 --> 00:09:38.960
writing out launchers scripts that run the models on a, you know,

144
00:09:39.280 --> 00:09:43.960
a remote computer. And, and then at, you know,

145
00:09:43.960 --> 00:09:47.320
so we've got the ones that con that, that convert the data to the inputs.

146
00:09:47.320 --> 00:09:48.280
And then we've got, like,

147
00:09:48.300 --> 00:09:51.080
all the models have their own unique outputs for the most part.

148
00:09:51.340 --> 00:09:56.320
And so converting those into a, a common format. And in that way, you know, the,

149
00:09:56.460 --> 00:10:01.280
the statistical analyses can be performed on the same, you know, 

150
00:10:01.810 --> 00:10:02.643
types of data

151
00:10:03.040 --> 00:10:07.560
I want to highlight, because it's very evident in this view, the,

152
00:10:08.020 --> 00:10:11.720
the number of dependencies that get pulled in by all of these packages.

153
00:10:12.500 --> 00:10:15.480
And from an engineering standpoint, that's terrifying.

154
00:10:16.180 --> 00:10:19.880
But I think it highlights what PEcAn is very good at is

155
00:10:21.290 --> 00:10:25.830
the reason there are, what was it, 140 dependencies for data dot atmosphere,

156
00:10:25.930 --> 00:10:30.550
is that what it does is it provides a unified framework for

157
00:10:30.950 --> 00:10:33.550
downloading climate data from what,

158
00:10:33.810 --> 00:10:38.230
10 different sources that arrives in, you know, some of it's in hdf,

159
00:10:38.230 --> 00:10:43.230
some of it's grip files, some of it's raw JSON stream,

160
00:10:43.230 --> 00:10:46.830
some of it's a thread server. And,

161
00:10:47.650 --> 00:10:52.030
and we can take that and I'll turn it all into one format that

162
00:10:52.420 --> 00:10:57.310
then you can take as many models as you have set up and run the same data

163
00:10:57.370 --> 00:10:59.870
set through all of them without having to

164
00:11:01.520 --> 00:11:04.710
fight with each of those data sources separately.

165
00:11:05.810 --> 00:11:10.790
And that package also handles things like gap filling and down scaling and

166
00:11:10.840 --> 00:11:13.790
de-biasing and a whole bunch of other utilities,

167
00:11:13.850 --> 00:11:17.030
not just the download and processing, but one of the,

168
00:11:17.030 --> 00:11:20.710
I one of the ideas that's like, you bring everything into one standard and then,

169
00:11:21.370 --> 00:11:21.610


170
00:11:21.610 --> 00:11:25.990
any operations we want to do on that are now scalable because they now operate

171
00:11:25.990 --> 00:11:27.670
on everything in one standard format.

172
00:11:28.530 --> 00:11:32.550
And then each of the model packages has a way of converting that standard into

173
00:11:32.550 --> 00:11:36.030
what that specific model needs,

174
00:11:36.090 --> 00:11:39.670
and so data atmosphere is organized around, yeah,

175
00:11:39.670 --> 00:11:44.470
the MET data data.land is organized around the vegetation and soils data.

176
00:11:44.540 --> 00:11:48.630
Data remote is organized around remotely since data streams. So,

177
00:11:49.450 --> 00:11:52.030
that, that naming pattern is pretty consistent.

178
00:11:52.170 --> 00:11:57.160
The PEcAn data are a lot of our ingest pipelines, and I think those,

179
00:11:57.270 --> 00:12:00.520
like Chris is, they have a potential fairly broad use.

180
00:12:01.300 --> 00:12:06.240
It was also part of the reason why our universe was like so super helpful is

181
00:12:06.240 --> 00:12:08.720
because at least when I started,

182
00:12:08.780 --> 00:12:12.240
so I'm one of the newer people to start on this, it was sort of like, yeah,

183
00:12:12.240 --> 00:12:13.880
this discussion of like, well,

184
00:12:13.930 --> 00:12:17.040
eventually stuff's gonna get broken out into separate repositories,

185
00:12:18.100 --> 00:12:19.360
but it's gonna be a lot of work.

186
00:12:19.660 --> 00:12:23.040
And because all these packages depend on each other, 

187
00:12:23.380 --> 00:12:26.920
and it's gonna make installing PEcAn an absolute nightmare, you know,

188
00:12:27.110 --> 00:12:31.280
more difficult than it already is. And so R-Universe was like,

189
00:12:32.420 --> 00:12:35.760
to me a little bit was like a, you know, a nice in between,

190
00:12:36.070 --> 00:12:40.560
like it's possible to just install PEcAn with install dot

191
00:12:40.560 --> 00:12:44.800
packages, when it's on R-Universe. And, and even though they're,

192
00:12:44.800 --> 00:12:45.960
they're in this monorepo.
